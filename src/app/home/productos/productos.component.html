<div class="w-full h-full flex flex-col justify-between" *ngIf="!loading && products.length > 0">
    <div class="w-full
                border
                border-prim-light-2
                rounded-xl
                h-5/6
                overflow-y-auto">
        <table class="table-auto w-full">
            <thead>
                <tr class="bg-prim-light-1/25">
                    <th class="py-2
                    text-xs
                    lg:text-base">Nombre</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Precio</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Cantidad</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Marca</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Tipo</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Peso Base</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Codigo de Barra</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Creado</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Actualizado</th>
                    <th class="py-2
                    text-xs
                    lg:text-base">Acciones</th>
                </tr>
            </thead>
            <tbody>

                <tr *ngFor="let d of products; let i = index;" class="border-b border-b-[#574FB4]/25 text-center">
                    <td class="py-2 text-start text-xs lg:text-base">
                        <input class="w-full py-1 text-center bg-prim-light-1/25" type="text" [(ngModel)]="d.name" [value]='d.name'
                        *ngIf="i === rowEdit">
                        <span *ngIf="i !== rowEdit">{{d.name}}</span>
                    </td>
                    <td class="py-2 text-xs lg:text-base ">
                        <input class="w-full py-1 text-center bg-prim-light-1/25" type="number" [(ngModel)]="d.price" [value]='d.price'
                            *ngIf="i === rowEdit">
                        <span *ngIf="i !== rowEdit"> {{d.price}}</span>
                    </td>
                    <td class="py-2 text-xs lg:text-base">
                        <input class="w-full py-1 text-center bg-prim-light-1/25" type="number" [(ngModel)]="d.quantity" [value]='d.quantity'
                            *ngIf="i === rowEdit">
                        <span *ngIf="i !== rowEdit"> {{d.quantity}}</span>
                    </td>
                    <td class="py-2 text-xs lg:text-base">
                        <!-- <input class="w-full py-1 text-center bg-prim-light-1/25" type="text" [value]='d.brand_id'
                                *ngIf="i === rowEdit" > -->
                        <span> {{d.brand_id | brandPipe}}</span>
                        <!-- <span *ngIf="i !== rowEdit"> {{d.brand_id | brandPipe}}</span> -->
                    </td>
                    <td class="py-2 text-xs lg:text-base ">
                        <input class="w-full py-1 text-center bg-prim-light-1/25" type="text" [(ngModel)]="d.type" [value]='d.type'
                            *ngIf="i === rowEdit">
                        <span *ngIf="i !== rowEdit"> {{d.type}}</span>
                    </td>
                    <td class="py-2 text-xs lg:text-base">
                        <input class="w-full py-1 text-center bg-prim-light-1/25" type="text" [value]='d.initialWeight'
                            *ngIf="i === rowEdit">
                        <span *ngIf="i !== rowEdit"> {{d.initialWeight| number: '4.1-2' }} <b class="hidden md:inline">g</b></span>
                    </td>
                    <td class="py-2 text-xs lg:text-base">
                        <input class="w-full py-1 text-center bg-prim-light-1/25" type="text" [value]='d.barcode'
                            *ngIf="i === rowEdit">
                        <span *ngIf="i !== rowEdit"> {{d.barcode}}</span>
                    </td>
                    <td class="py-2 text-xs lg:text-base">
                        <!-- <input class="w-full py-1 text-center bg-prim-light-1/25" type="text" [value]='d.createdAt'
                                *ngIf="i === rowEdit"> -->
                        <span> {{d.createdAt | date:"shortDate"}}</span>
                        <!-- <span *ngIf="i !== rowEdit"> {{d.createdAt | date:"short"}}</span> -->
                    </td>
                    <td class="py-2 text-xs lg:text-base">
                        <!-- <input class="w-full py-1 text-center bg-prim-light-1/25" type="text" [value]='d.updatedAt'
                            *ngIf="i === rowEdit">
                            <span *ngIf="i !== rowEdit"> {{d.updatedAt | date:"shortDate"}}</span> -->
                        <span> {{d.updatedAt | date:"shortDate"}}</span>
                    </td>







                    <!-- <th class="py-2">Artist</th>
                    <th class="py-2">Year</th>-->
                    <td class="py-2 flex justify-center items-center">
                        <button (click)="editRow(i)" *ngIf="i !== rowEdit"
                            class="w-7 h-7 
                                lg:w-9 lg:h-9 
                                mx-2 rounded-full bg-prim-light flex justify-center items-center
                                transition ease-in-out delaxy-75 
                                hover:shadow-md hover:shadow-prim-dark-1/70 hover:-translate-y-0.5">
                            <i-tabler name="edit-circle" 
                            [ngClass]="{'iconsm': screenWidth <= 1024}"
                            class="text-prim-light-2"></i-tabler>
                        </button>
                        <button (click)="saveRow(d)" *ngIf="i === rowEdit"
                            class="w-7 h-7 
                            lg:w-9 lg:h-9 
                            mx-2 rounded-full bg-secondary flex justify-center items-center
                            transition ease-in-out delaxy-75 
                            hover:shadow-md hover:shadow-prim-dark-1/70 hover:-translate-y-0.5">
                            <i-tabler name="device-floppy" 
                            [ngClass]="{'iconsm': screenWidth <= 1024}"
                            class="text-prim-light-2"></i-tabler>
                        </button>
                        <button (click)="deleteRow( i, d.id )"
                            class="w-7 h-7 
                            lg:w-9 lg:h-9 mr-1 
                            rounded-full bg-danger flex justify-center items-center 
                            transition ease-in-out delaxy-75 
                            hover:shadow-md hover:shadow-prim-dark-1/70 hover:-translate-y-0.5">
                            <i-tabler name="trash" 
                            [ngClass]="{'iconsm': screenWidth <= 1024}"
                            class="text-prim-light-2"></i-tabler>
                        </button>
                    </td>
                </tr>



            </tbody>
        </table>
    </div>

    <ng-container *ngIf="productCount > 10">

        <div class="w-full h-3/12 flex justify-center items-center  text-sm lg:text-lg">
            <div class="w-3/6 h-16  flex items-center justify-center">
                <button (click)="prevPage()" [disabled]=" currentPage() == 1"
                    [ngClass]="{'disabled:bg-prim-light-1/20': currentPage() == 1}"
                    class="w-9 h-9 bg-prim-light-1/50  hover:bg-prim-light-1/90 rounded-full flex justify-center items-center">
                    <i-tabler name="chevron-left"></i-tabler>
                </button>

                <div [ngClass]="{'w-1/2': pages.length >= 5}" class="flex justify-evenly">

                    <ng-container *ngFor="let _ of pages; let i = index;">
                        <span [ngClass]="{'bg-prim-dark-1 text-prim-light-2': currentPage() === i + 1 }"
                            class="w-9 h-9 mx-2 rounded-full flex justify-center items-center text-prim-dark-1 font-bold">
                            {{ i + 1 }}
                        </span>

                    </ng-container>

                </div>
                <button (click)="nextPage()" [disabled]=" currentPage() === pages.length"
                    [ngClass]="{'disabled:bg-prim-light-1/20': currentPage() === pages.length}"
                    class="w-9 h-9 bg-prim-light-1/50 hover:bg-prim-light-1/90 rounded-full flex justify-center items-center">
                    <i-tabler name="chevron-right"></i-tabler>
                </button>
            </div>

        </div>
    </ng-container>
</div>
<app-warning
msg="No hay productos, haga click en el boton &lt;b&gt;Crear Producto&lt;/b&gt; o el area de &lt;b&gt;Ajustes&lt;/b&gt;."
*ngIf="products.length == 0"
></app-warning>
<app-loader msg="Cargando..." *ngIf="loading"></app-loader>